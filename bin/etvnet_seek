#!/usr/bin/env ruby
# encoding: utf-8

require 'rubygems' unless RUBY_VERSION =~ /1.9.*/

$:.unshift(File::join(File::dirname(File::dirname(__FILE__)), "lib"))

$KCODE='u'

require 'main'

trap('INT') { puts "Program was interrupted..."; exit }

client = Main.new

result = client.seek ARGV.join(' ')

if result.resolved?
  puts "Link (#{result.name}): #{result.link}"

  launch = ask("Launch link (y/n)?")

  client.launch_link result.link unless launch =~ /n/i
end

